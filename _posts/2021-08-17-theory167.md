---
layout: post
categories: [theory]
comments: true
title: "페이지 교체 알고리즘"
date: 2021-08-17 10:15:43
typora-copy-images-to: upload
---

#### 1. 페이지 교체 알고리즘

- `페이지 부재(Page Fault)가 발생하면` 가상기억장치에서 필요한 페이지를 찾아 주기억장치에 적재해야 하는데, 이때 주기억장치의 모든 페이지 프레임이 사용중이면 `어떤 페이지 프레임을 선택하여 교체할 것인지를 결정하는 기법`이 페이지 교체 알고리즘임
- 종류: OPT, FIFO, LRU, LFU, NUR, SCR 등

#### 2. OPT(OPTimal replacement, 최적 교체)

- `앞으로 가장 오랫동안 사용하지 않을 페이지를 교체`하는 기법
- 벨레이디가 제안한 것
- 페이지 부재 횟수가 가장 적게 발생하는 가장 효율적인 알고리즘

#### 3. FIFO(First In First Out)

- 각 페이지가 주기억장치에 적재될 때마다 그때의 시간을 기억시켜 `가장 먼저 들어와서 가장 오래 있었던 페이지를 교체`하는 기법

- 이해하기 쉽고, 프로그래밍 및 설계가 간단함

- 다음의 참조 페이지를 세 개의 페이지 프레임을 가진 기억장치에서 FIFO 알고리즘을 사용하여 교체했을 때 페이지 부재의 수는? (단, 초기 페이지 프레임은 모두 비어 있는 상태임)

  ![스크린샷 2021-08-10 오후 1.06.13](https://tva1.sinaimg.cn/large/008i3skNgy1gtbkbde3bwj30pa07gjss.jpg)

1. 참조 페이지를 각 페이지 프레임에 차례로 적재시키되 이미 적재된 페이지는 해당 위치의 페이지 프레임을 사용함
2. 사용할 페이지 프레임이 없을 경우 가장 먼저 들어와서 오래 있었던 페이지 2를 제거한 후 5를 적재함
3. 그 다음에 적재된 페이지 3을 제거한 후 2를 적재하며, 같은 방법으로 나머지 참조 페이지를 수행함

#### 4. LRU(Least Recently Used)

- `최근에 가장 오랫동안 사용하지 않은 페이지를 교체`하는 기법

- 각 페이지마다 계수기(Counter)나 스택을 두어 현시점에서 가장 오랫동안 사용하지 않은, 즉 가장 오래전에 사용된 페이지를 교체함 

- 다음의 참조 페이지를 세 개의 페이지 프레임을 가진 기억장치에서 LRU 알고리즘을 사용하여 교체했을 때 페이지 부재의 수는? (단, 초기 페이지 프레임은 모두 비어 있는 상태임)

  ![스크린샷 2021-08-10 오후 1.09.48](https://tva1.sinaimg.cn/large/008i3skNgy1gtbkez0v93j30r60880u2.jpg)

1. 참조 페이지를 각 페이지 프레임에 차례로 적재시키되 이미 적재된 페이지는 해당 위치의 페이지 프레임을 사용함
2. 사용할 페이지 프레임이 없을 경우 현재 시점에서 가장 오랫동안 사용되지 않은 페이지 3을 제거한 후 5를 적재함
3. 같은 방법으로 나머지 참조 페이지를 수행함

#### 5. LFU(Least Frequently Used)

- `사용 빈도가 가장 적은 페이지를 교체`하는 기법
- 활발하게 사용되는 페이지는 사용 횟수가 많아 교체되지 않고 사용됨 

#### 6. NUR(Not Used Recently)

- LRU와 비슷한 알고리즘으로, `최근에 사용하지 않은 페이지를 교체`하는 기법
- 최근에 사용하지 않은 페이지는 향후에도 사용되지 않을 가능성이 높다는 것을 전제로 LRU에서 나타나는 시간적인 오버헤드를 줄일 수 있음
- 최근의 사용 여부를 확인하기 위해서 각 페이지마다 두 개의 비트, 즉 참조 비트(Reference Bit)와 변형 비트(Modified Bit, Dirty Bit)가 사용됨
- 다음과 같이 참조 비트와 변형 비트의 값에 따라 교체될 페이지의 순서가 결정됨

| 참조 비트 | 0    | 0    | 1    | 1    |
| --------- | ---- | ---- | ---- | ---- |
| 변형 비트 | 0    | 1    | 0    | 1    |
| 교체 순서 | 1    | 2    | 3    | 4    |

#### 7. SCR(Second Chance Replacement, 2차 기회 교체)

- `가장 오랫동안 주기억장치에 있던 페이지 중 자주 사용되는 페이지의 교체를 방지`하기 위한 기법
- FIFO 기법의 단점을 보완하는데 사용됨